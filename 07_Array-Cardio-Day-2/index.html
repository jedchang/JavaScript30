<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Array Cardio ğŸ’ªğŸ’ª</title>
  </head>
  <body>
    <p><em>Psst: have a look at the JavaScript Console</em> ğŸ’</p>
    <script>
      // ## Array Cardio Day 2

      const people = [
        { name: 'Wes', year: 1988 },
        { name: 'Kait', year: 1986 },
        { name: 'Irv', year: 1970 },
        { name: 'Lux', year: 2015 }
      ];

      const comments = [
        { text: 'Love this!', id: 523423 },
        { text: 'Super good', id: 823423 },
        { text: 'You are the best', id: 2039842 },
        { text: 'Ramen is my fav food ever', id: 123523 },
        { text: 'Nice Nice Nice!', id: 542328 }
      ];

      /*--------------------------  WORKOUT-1  --------------------------*/
      // Array.prototype.some()
      // is at least one person 19 or older? (people ä¸­æ˜¯å¦æœ‰19æ­²ä»¥ä¸Šçš„äºº?)

      // some() é™£åˆ—æ¯”å°ï¼šåªè¦æœ‰ä¸€å€‹å…ƒç´ æ˜¯ trueï¼Œå°±è¿”å› true
      // å‚³çµ±å¯«æ³•
      const isAdult = people.some(function(person) {
        // å–å¾—ç¾åœ¨å¹´åˆ†
        const currentYear = new Date().getFullYear();
        if (currentYear - person.year >= 19) {
          return true;
        }
      });
      // console.log(isAdult);

      // ES6 å¯«æ³•ï¼šç®­é ­æ¶µå¼å¦‚æœæœ‰å¤§æ‹¬è™Ÿ {} è¦è£œä¸Š return
      const isAdultES6 = people.some(person => {
        return new Date().getFullYear() - person.year >= 19;
      });

      // console.log(isAdultES6);

      /*--------------------------  WORKOUT-2  --------------------------*/
      // Array.prototype.every()
      // is everyone 19 or older? (people ä¸­æ˜¯å¦æ¯å€‹äººéƒ½19æ­²ä»¥ä¸Š?)

      // every() é™£åˆ—æ¯”å°ï¼šæ‰€æœ‰å…ƒç´ éƒ½æ˜¯ true æ‰æ˜¯ true
      // å‚³çµ±å¯«æ³•
      const allAdults = people.every(function(person) {
        const nowYear = new Date().getFullYear();
        if (nowYear - person.year >= 19) {
          return true;
        }
      });

      // console.log(allAdults);

      // ES6 å¯«æ³•ï¼šç®­é ­æ¶µå¼å¦‚æœæœ‰å¤§æ‹¬è™Ÿ {} è¦è£œä¸Š return
      const allAdultsES6 = people.every(person => {
        return new Date().getFullYear() - person.year >= 19;
      });

      // console.log(allAdultsES6);

      /*--------------------------  WORKOUT-3  --------------------------*/
      // Array.prototype.find()
      // Find is like filter, but instead returns just the one you are looking for find the comment with the ID of 823423 (åœ¨ comments è³‡æ–™ä¸­ï¼Œæ‰¾åˆ° idï¼š823423 çš„è³‡æ–™)

      // find()ï¼šfind èˆ‡ filter å¾ˆåƒï¼Œä½† find åªæœƒå›å‚³ä¸€æ¬¡å€¼ï¼Œä¸”æ˜¯ç¬¬ä¸€æ¬¡ç‚º true çš„å€¼ã€‚
      // å‚³çµ±å¯«æ³•
      const ansFind = comments.find(function(comments) {
        // function ä¸­ comments ç‚ºæŸ¥æ‰¾å…ƒä»¶åç¨±ï¼Œä¸æ˜¯è‡ªå®šç¾©åç¨±
        if (comments.id === 823423) {
          return true;
        }
      });

      // console.log(ansFind);

      // ES6 å¯«æ³•ï¼šç®­é ­æ¶µå¼å¦‚æœæœ‰å¤§æ‹¬è™Ÿ {} è¦è£œä¸Š return
      const ansFindES6 = comments.find(comments => {
        return comments.id === 823423;
      });

      // console.log(ansFindES6);

      /*--------------------------  WORKOUT-4  --------------------------*/
      // Array.prototype.findIndex()
      // Find the comment with this ID delete the comment with the ID of 823423 (åœ¨comments è³‡æ–™ä¸­ï¼Œæ‰¾åˆ° id:823423 çš„è³‡æ–™ç´¢å¼•å€¼ï¼Œä¸¦é€éç´¢å¼•å€¼åˆªé™¤é€™ç­†è³‡æ–™)

      // findIndex()ï¼šå‡½å¼ä¹Ÿæ˜¯å°‹æ‰¾é™£åˆ—ä¸­ç¬¦åˆçš„å…ƒç´ ï¼Œä¸¦è¿”å›å…¶index (ç´¢å¼•) ä¸”ç¬¬ä¸€å€‹ç¬¦åˆï¼Œæ‰¾ä¸åˆ°å°±è¿”å› -1ã€‚
      // å‚³çµ±å¯«æ³•
      const index = comments.findIndex(function(comments) {
        if (comments.id === 823423) {
          return true;
        }
      });
      // console.log(index); // 1 ç‚ºç´¢å¼•ï¼Œé™£åˆ—ä¸­çš„ç¬¬äºŒç­†

      // splice()ï¼šæ”¹è®Šé™£åˆ—å…§å®¹ï¼Œç§»é™¤æˆ–æ–°å¢å…ƒç´ ã€‚æœƒä¿®æ”¹åŸæœ‰çš„é™£åˆ—ã€‚åˆªé™¤çš„ç‚ºç´¢å¼• 1ï¼Œé™£åˆ—ä¸­çš„ç¬¬äºŒç­†
      // comments.splice(index, 1);
      // console.log(comments);

      // ES6 å¯«æ³•ï¼šç®­é ­æ¶µå¼å¦‚æœæœ‰å¤§æ‹¬è™Ÿ {} è¦è£œä¸Š return
      const indexES6 = comments.findIndex(comments => {
        return comments.id === 823423;
      });

      // slice()ï¼šå–å¾—ç¯„åœ (åˆ‡å‰²ã€æ“·å–é™£åˆ—)ï¼Œä½†æœƒç”¢ç”Ÿæ–°çš„é™£åˆ—ã€‚
      // ES6 å±•é–‹é‹ç®—å­ => å¯ä»¥æŠŠé™£åˆ—ä¸­çš„å…ƒç´ å–å‡º

      // å…ˆå±•é–‹é™£åˆ—å¾Œ [...A, ...B] ä¸¦åˆä½µå…©å€‹é™£åˆ—
      // ç„¶å¾Œåˆ‡å‰²å–å¾—ç¯„åœï¼Œ0 ç´¢å¼•é–‹å§‹åˆ° indexES6 (id:823423)
      // åœ¨å¾ indexES6 (id:823423) åˆ‡å‰²åˆ°æœ€å¾Œï¼Œ ç´¢å¼•ç‚º (indexES6 + 1)
      const newComments = [...comments.slice(0, indexES6), ...comments.slice(indexES6 + 1)];

      console.log(newComments);

      // console.log(indexES6); // 1 ç‚ºç´¢å¼•ï¼Œé™£åˆ—ä¸­çš„ç¬¬äºŒç­†
    </script>
  </body>
</html>
